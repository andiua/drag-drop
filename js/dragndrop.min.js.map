{"version":3,"file":"dragndrop.min.js","mappings":"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","sources":["webpack://second_part/./js/index.js"],"sourcesContent":["'use strict';\r\n\r\nclass DragDrop {\r\n\tconstructor({\r\n\t\tdragElement,\r\n\t\tdropElement,\r\n\t\tdropEveryWhere = false,\r\n\t\tdropFewInOne = false,\r\n\t\tdropIntoCenter = false,\r\n\t\tenableDropped = false,\r\n\t\ttransition = 'transform 0.4s ease-in-out',\r\n\t\tafterDroped\r\n\t}) {\r\n\t\tif (!dragElement) {\r\n\t\t\tconsole.warn('drag&drop: Need 1 propertie \"dragElement\"');\r\n\t\t\treturn;\r\n\t\t} else {\r\n\t\t\tthis.dragElement = document.querySelectorAll(dragElement);\r\n\t\t}\r\n\t\tdropElement ? (this.dropElement = document.querySelectorAll(dropElement)) : null;\r\n\t\tthis.options = {\r\n\t\t\tdropEveryWhere,\r\n\t\t\tdropFewInOne,\r\n\t\t\tdropIntoCenter,\r\n\t\t\ttransition,\r\n\t\t\tenableDropped,\r\n\t\t};\r\n\t\tthis.afterDroped = afterDroped;\r\n\t\tthis.transitionTime = () => {\r\n\t\t\tconst getTime = transition.match(/(\\d+.\\d+s |.\\d+s | \\d+s | \\d+ms)/g)[0];\r\n\t\t\tif(getTime.includes('ms')) {\r\n\t\t\t\tif(getTime.slice(1, -2) < 100) {\r\n\t\t\t\t\tconsole.warn('drag&drop: Check transition-time. The smallest time is 100ms');\r\n\t\t\t\t\treturn 100;\r\n\t\t\t\t}\r\n\t\t\t\treturn getTime.slice(1, -2);\r\n\t\t\t} else {\r\n\t\t\t\tif(getTime.slice(0, -2)*1000 < 100) {\r\n\t\t\t\t\tconsole.warn('drag&drop: Check transition-time. The smallest time is 0.1s');\r\n\t\t\t\t\treturn 100;\r\n\t\t\t\t}\r\n\t\t\t\treturn getTime.slice(0, -2)*1000;\r\n\t\t\t}\r\n\t\t}\r\n\t\t\r\n\t\tthis.eventCoordinates = {};\r\n\t\tthis.eventStartCoordinates = [];\r\n\t\tthis.dragCoordinates = {};\r\n\t\tthis.dropCoordinates = [];\r\n\t\tthis.boundDragDown = [];\r\n\t\tthis.boundDragMove;\r\n\t\tthis.boundDragUp;\r\n\t}\r\n\tinit() {\r\n\t\tthis.dragElement.forEach((drag, i) => {\r\n\t\t\tthis.boundDragDown[i] = this.dragDown.bind(this, drag);\r\n\t\t\tdrag.addEventListener('pointerdown', this.boundDragDown[i]);\r\n\t\t});\r\n\t}\r\n\r\n\taddDropCoordinates() {\r\n\t\tthis.dropCoordinates = [];\r\n\t\tthis.dropElement.forEach(drop => {\r\n\t\t\tconst bounding = drop.getBoundingClientRect();\r\n\t\t\tconst coordinates = {\r\n\t\t\t\ttop: bounding.top,\r\n\t\t\t\tleft: bounding.left,\r\n\t\t\t\tbottom: bounding.bottom,\r\n\t\t\t\tright: bounding.right,\r\n\t\t\t\twidth: bounding.width,\r\n\t\t\t\theight: bounding.height,\r\n\t\t\t};\r\n\t\t\tthis.dropCoordinates.push(coordinates);\r\n\t\t});\r\n\t}\r\n\tdropItem(drag, drop, e) {\r\n\t\tconst bounding = drag.getBoundingClientRect();\r\n\t\tconst transformValues = drag.style.transform.match(/(-\\d+|\\d+)/g);\r\n\t\tlet translateX, translateY;\r\n\t\tif (this.options.dropIntoCenter) {\r\n\t\t\tlet centerX = (bounding.width - drop.width) / 2;\r\n\t\t\tlet centerY = (bounding.height - drop.height) / 2;\r\n\t\t\ttranslateX = drop.left - centerX - bounding.left + Number(transformValues[0]);\r\n\t\t\ttranslateY = drop.top - centerY - bounding.top + Number(transformValues[1]);\r\n\t\t\tdrag.style.cssText = `\r\n\t\t\t\t\ttransition: ${this.options.transition};\r\n\t\t\t\t\ttransform: translate(${translateX}px, ${translateY}px)`;\r\n\t\t\tsetTimeout(() => {\r\n\t\t\t\tdrag.style.transition = '';\r\n\t\t\t}, this.transitionTime());\r\n\t\t}\r\n\t\tif(!this.options.enableDropped) {\r\n\t\t\tthis.dragElement.forEach((item, i) => {\r\n\t\t\t\tif (item === drag) {\r\n\t\t\t\t\tdrag.removeEventListener('pointerdown', this.boundDragDown[i]);\r\n\t\t\t\t\tdrag.style.cursor = 'auto';\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t}\r\n\t\tif(this.afterDroped) {\r\n\t\t\tthis.afterDroped();\r\n\t\t}\r\n\t\tdrag.classList.add('dropped');\r\n\t\tdrag.classList.remove('droppable');\r\n\t}\r\n\tcheckCoincidence(drag, e) {\r\n\t\tconst bounding = drag.getBoundingClientRect();\r\n\t\tconst boolean = this.dropCoordinates.some((item, i) => {\r\n\t\t\t// під позицію миші\r\n\t\t\t// if(item.top <= e.clientY && item.left <= e.clientX\r\n\t\t\t// \t&& item.bottom >= e.clientY && item.right >= e.clientX ) {\r\n\t\t\t// під розмір об'єкта\r\n\t\t\tif (item.top <= bounding.top + bounding.height / 2 &&\r\n\t\t\t\titem.left <= bounding.left + bounding.width / 2 &&\r\n\t\t\t\titem.bottom >= bounding.bottom - bounding.height / 2 &&\r\n\t\t\t\titem.right >= bounding.right - bounding.width / 2) {\r\n\t\t\t\t\tdrag.classList.add('droppable');\r\n\t\t\t\t\tthis.dropElement[i].classList.add('droppable__hover');\r\n\t\t\t\t\tif(e.type !== 'pointermove') {\r\n\t\t\t\t\t\tthis.dropItem(drag, item, e);\r\n\t\t\t\t\t}\r\n\t\t\t\t\treturn true;\r\n\t\t\t}\r\n\t\t\tdrag.classList.remove('droppable');\r\n\t\t\tthis.dropElement[i].classList.remove('droppable__hover');\r\n\t\t\treturn false;\r\n\t\t});\r\n\t\treturn boolean;\r\n\t}\r\n\taddBasicCoordinates(e, drag) {\r\n\t\tconst bounding = drag.getBoundingClientRect();\r\n\t\tthis.dragCoordinates = {\r\n\t\t\ttop: bounding.top,\r\n\t\t\tleft: bounding.left,\r\n\t\t\tbottom: bounding.bottom,\r\n\t\t\tright: bounding.right,\r\n\t\t};\r\n\t\tthis.dragElement.forEach((item, i) => {\r\n\t\t\tconst itemDrag = item === drag;\r\n\t\t\tif ((!this.eventStartCoordinates[i] && itemDrag)\r\n\t\t\t|| (!this.options.dropEveryWhere && itemDrag && !drag.classList.contains('dropped')) ){\r\n\t\t\t\tconsole.log('object');\r\n\t\t\t\tthis.eventStartCoordinates[i] = {\r\n\t\t\t\t\tleft: e.clientX,\r\n\t\t\t\t\ttop: e.clientY,\r\n\t\t\t\t};\r\n\t\t\t} else if((this.eventStartCoordinates[i] && drag.style.transform)\r\n\t\t\t|| this.options.enableDropped && itemDrag && drag.classList.contains('dropped')) {\r\n\t\t\t\tconst transformValues = drag.style.transform.match(/(-\\d+|\\d+)/g);\r\n\t\t\t\tthis.eventStartCoordinates[i] = {\r\n\t\t\t\t\tleft: e.clientX - Number(transformValues[0]),\r\n\t\t\t\t\ttop: e.clientY - Number(transformValues[1])\r\n\t\t\t\t};\r\n\t\t\t}\r\n\t\t\tdrag.classList.remove('dropped');\r\n\t\t});\r\n\t}\r\n\tchangeDragCoordinates(e, drag) {\r\n\t\tthis.eventCoordinates = {\r\n\t\t\tleft: e.clientX,\r\n\t\t\ttop: e.clientY,\r\n\t\t};\r\n\t\tthis.dragElement.forEach((item, i) => {\r\n\t\t\tif (item === drag) {\r\n\t\t\t\tlet translateX = this.eventCoordinates.left - this.eventStartCoordinates[i].left;\r\n\t\t\t\tlet translateY = this.eventCoordinates.top - this.eventStartCoordinates[i].top;\r\n\t\t\t\t// console.log(`${translateX}px, ${translateY}px`);\r\n\t\t\t\tdrag.style.cssText = `\r\n\t\t\t\t\ttransform: translate(${translateX}px, ${translateY}px);\r\n\t\t\t\t\tposition: relative;\r\n\t\t\t\t\tz-index: 9999;\r\n\t\t\t\t\t`;\r\n\t\t\t}\r\n\t\t});\r\n\t}\r\n\taddFinishCoordinates(drag, e) {\r\n\t\tif (!this.checkCoincidence(drag, e) && !this.options.dropEveryWhere) {\r\n\t\t\tdrag.style.transition = this.options.transition;\r\n\t\t\tdrag.style.transform = '';\r\n\t\t\tsetTimeout(() => {\r\n\t\t\t\tdrag.style.transition = '';\r\n\t\t\t}, this.transitionTime());\r\n\t\t}\r\n\t\tdrag.style.position = '';\r\n\t\tdrag.style.zIndex = '';\r\n\t}\r\n\t// events\r\n\tdragDown(drag, e) {\r\n\t\tthis.boundDragMove = this.dragMove.bind(this, drag);\r\n\t\tthis.boundDragUp = this.dragUp.bind(this, drag);\r\n\t\tdocument.body.addEventListener('pointermove', this.boundDragMove);\r\n\t\tdocument.body.addEventListener('pointerup', this.boundDragUp);\r\n\t\tif (this.dropElement) {\r\n\t\t\tthis.addDropCoordinates();\r\n\t\t}\r\n\t\tthis.addBasicCoordinates(e, drag);\r\n\t\tthis.changeDragCoordinates(e, drag);\r\n\t\tdrag.classList.add('dragging');\r\n\t\t\r\n\t}\r\n\tdragMove(drag, e) {\r\n\t\te.preventDefault();\r\n\t\tdrag.style.cursor = 'grabbing';\r\n\t\tthis.changeDragCoordinates(e, drag);\r\n\t\tthis.checkCoincidence(drag, e);\r\n\t}\r\n\tdragUp(drag, e) {\r\n\t\tdrag.classList.remove('dragging');\r\n\t\tdocument.body.removeEventListener('pointermove', this.boundDragMove);\r\n\t\tdocument.body.removeEventListener('pointerup', this.boundDragUp);\r\n\t\tdrag.style.cursor = '';\r\n\t\tthis.addFinishCoordinates(drag, e);\r\n\t}\r\n\t// addEvents() {\r\n\r\n\t// }\r\n}\r\n\r\nwindow.addEventListener('DOMContentLoaded', () => {\r\n\tnew DragDrop({\r\n\t\tdragElement: '.elemImg:not([data-drag])',\r\n\t}).init();\r\n\tnew DragDrop({\r\n\t\tdragElement: '[data-drag=\"2\"]',\r\n\t\tdropElement: '[data-drop=\"2\"]',\r\n\t\tdropEveryWhere: true,\r\n\r\n\t}).init();\r\n\tnew DragDrop({\r\n\t\tdragElement: '[data-drag=\"1\"]',\r\n\t\tdropElement: '[data-drop=\"1\"]',\r\n\t\tdropIntoCenter: true,\r\n\t\tenableDropped: true,\r\n\t}).init();\r\n});\r\n"],"names":["DragDrop","constructor","dragElement","dropElement","dropEveryWhere","dropFewInOne","dropIntoCenter","enableDropped","transition","afterDroped","this","document","querySelectorAll","options","transitionTime","getTime","match","includes","slice","console","warn","eventCoordinates","eventStartCoordinates","dragCoordinates","dropCoordinates","boundDragDown","boundDragMove","boundDragUp","init","forEach","drag","i","dragDown","bind","addEventListener","addDropCoordinates","drop","bounding","getBoundingClientRect","coordinates","top","left","bottom","right","width","height","push","dropItem","e","transformValues","style","transform","translateX","translateY","centerX","centerY","Number","cssText","setTimeout","item","removeEventListener","cursor","classList","add","remove","checkCoincidence","some","type","addBasicCoordinates","itemDrag","contains","log","clientX","clientY","changeDragCoordinates","addFinishCoordinates","position","zIndex","dragMove","dragUp","body","preventDefault","window"],"sourceRoot":""}